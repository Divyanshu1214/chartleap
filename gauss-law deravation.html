<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chartleap: Gauss Law Masterclass</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&family=Noto+Sans+Devanagari:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js" 
            onload="renderMathInElement(document.body, {delimiters: [{left: '$$', right: '$$', display: true}, {left: '$', right: '$', display: false}]});"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>

    <style>
        :root { 
            --primary: #00d2ff; 
            --bg: #0f172a; 
            --card: #1e293b; 
            --accent: #ffeb3b; 
            --red: #ff4444; 
        }

        body { 
            margin: 0; 
            font-family: 'Noto Sans Devanagari', sans-serif; 
            background: var(--bg); 
            color: #f1f5f9; 
            line-height: 1.8;
            font-size: 18px; /* ‡§¨‡•ú‡•á ‡§´‡•â‡§®‡•ç‡§ü ‡§§‡§æ‡§ï‡§ø ‡§∏‡§¨ ‡§∏‡§æ‡•û ‡§¶‡§ø‡§ñ‡•á */
        }
        
        header { 
            background: linear-gradient(135deg, #1e40af, #00d2ff); 
            padding: 60px 20px; 
            text-align: center; 
            box-shadow: 0 4px 30px rgba(0,0,0,0.5); 
        }

        .container { max-width: 900px; margin: 0 auto; padding: 20px; }

        /* Symbols Glossary */
        .symbol-guide {
            background: var(--card);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
            padding: 20px;
            border-radius: 15px;
            margin: 30px 0;
            border: 1px solid var(--primary);
        }
        .symbol-item { text-align: center; }
        .symbol-item b { font-size: 1.5rem; color: var(--accent); font-family: 'Roboto Slab', serif; }

        /* Desi Trick Styling */
        .desi-trick { 
            background: rgba(255, 235, 59, 0.1); 
            border: 2px dashed var(--accent); 
            padding: 25px; 
            border-radius: 20px; 
            margin: 30px 0; 
        }

        /* 3D Lab Box - Guaranteed Visibility */
        #lab-container {
            width: 100%;
            height: 500px;
            background: #000;
            border-radius: 20px;
            border: 3px solid var(--primary);
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }
        
        .ui-overlay { position: absolute; top: 15px; left: 15px; background: rgba(0,0,0,0.85); padding: 15px; border-radius: 10px; border: 1px solid var(--primary); font-size: 0.9rem; z-index: 10; }
        .controls { position: absolute; bottom: 15px; right: 15px; background: rgba(0,0,0,0.9); padding: 15px; border-radius: 10px; z-index: 10; width: 220px; }

        .step-card { background: var(--card); padding: 30px; border-radius: 20px; margin-bottom: 30px; border-left: 8px solid var(--primary); }
        h1, h2, h3 { font-family: 'Roboto Slab', serif; color: var(--primary); }
        
        .katex { font-size: 1.2em; } /* ‡§´‡§æ‡§∞‡•ç‡§Æ‡•Ç‡§≤‡§æ ‡§ï‡•ã ‡§•‡•ã‡•ú‡§æ ‡§¨‡•ú‡§æ ‡§¶‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è */

        @media (max-width: 600px) { #lab-container { height: 400px; } }
    </style>
</head>
<body>

<header>
    <h1>chartleap Interactive Physics</h1>
    <p>‡§ó‡•â‡§∏ ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§Æ‡•á‡§Ø: ‡§Ö‡§¨ ‡§π‡§∞ ‡§∏‡§ø‡§Æ‡•ç‡§¨‡§≤ ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§∏‡§æ‡•û</p>
</header>

<div class="container">

    <h3>üé≠ ‡§ö‡§ø‡§®‡•ç‡§π‡•ã‡§Ç ‡§ï‡•ã ‡§™‡§π‡§ö‡§æ‡§®‡•á‡§Ç (Symbols Guide)</h3>
    <div class="symbol-guide">
        <div class="symbol-item"><b>$\Phi$</b><br>Phi (‡§´‡•ç‡§≤‡§ï‡•ç‡§∏)</div>
        <div class="symbol-item"><b>$\epsilon_0$</b><br>Epsilon Not</div>
        <div class="symbol-item"><b>$E$</b><br>‡§µ‡§ø‡§¶‡•ç‡§Ø‡•Å‡§§ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞</div>
        <div class="symbol-item"><b>$dA$</b><br>‡§õ‡•ã‡§ü‡§æ ‡§ü‡•Å‡§ï‡•ú‡§æ</div>
        <div class="symbol-item"><b>$\oint$</b><br>‡§∏‡§Æ‡§æ‡§ï‡§≤‡§®</div>
    </div>

    <div class="desi-trick">
        <h3>üî• ‡§¶‡•á‡§∏‡•Ä ‡§ü‡•ç‡§∞‡§ø‡§ï: ‡§¨‡§≤‡•ç‡§¨ ‡§µ‡§æ‡§≤‡•Ä ‡§ï‡§π‡§æ‡§®‡•Ä</h3>
        <p>‡§è‡§ï ‡§ú‡§≤‡§§‡•á ‡§π‡•Å‡§è <b>‡§¨‡§≤‡•ç‡§¨ ($+q$)</b> ‡§∏‡•á ‡§®‡§ø‡§ï‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä <b>‡§∞‡•ã‡§∂‡§®‡•Ä ($E$)</b> ‡§ï‡•ã ‡§∏‡•ã‡§ö‡•á‡§Ç‡•§ ‡§Ö‡§ó‡§∞ ‡§Ü‡§™ ‡§¨‡§≤‡•ç‡§¨ ‡§ï‡•ã ‡§è‡§ï <b>‡§ï‡§æ‡§Ç‡§ö ‡§ï‡•á ‡§ó‡•ã‡§≤‡•á</b> ‡§Æ‡•á‡§Ç ‡§¨‡§Ç‡§¶ ‡§ï‡§∞ ‡§¶‡•á‡§Ç, ‡§§‡•ã ‡§â‡§∏ ‡§ï‡§æ‡§Ç‡§ö ‡§∏‡•á ‡§ú‡§ø‡§§‡§®‡•Ä ‡§∞‡•ã‡§∂‡§®‡•Ä ‡§¨‡§æ‡§π‡§∞ ‡§Ü‡§è‡§ó‡•Ä, ‡§µ‡§π‡•Ä <b>$\Phi$ (‡§´‡•ç‡§≤‡§ï‡•ç‡§∏)</b> ‡§π‡•à‡•§</p>
        <p><b>‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡•á‡§Ç:</b> ‡§∞‡•ã‡§∂‡§®‡•Ä ($E$) ‡§î‡§∞ ‡§ï‡§æ‡§Ç‡§ö ‡§ï‡§æ ‡§ü‡•Å‡§ï‡•ú‡§æ ($dA$) ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§è‡§ï ‡§π‡•Ä ‡§§‡§∞‡§´ ‡§π‡•à‡§Ç, ‡§á‡§∏‡§≤‡§ø‡§è ‡§á‡§®‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ï‡•ã‡§à ‡§ù‡§ó‡•ú‡§æ ‡§®‡§π‡•Ä‡§Ç‚Äî‡§Æ‡§§‡§≤‡§¨ ‡§è‡§Ç‡§ó‡§≤ <b>$0^\circ$</b> ‡§π‡•à!</p>
    </div>

    <h2>üîç 3D ‡§≤‡§æ‡§á‡§µ ‡§è‡§ï‡•ç‡§∏‡§™‡•á‡§∞‡§ø‡§Æ‡•á‡§Ç‡§ü</h2>
    <div id="lab-container">
        <div class="ui-overlay">
            <b style="color:var(--red)">‚óè</b> ‡§Ü‡§µ‡•á‡§∂ ($+q$)<br>
            <b style="color:var(--primary)">‚¨°</b> ‡§ó‡§æ‡§ä‡§∏‡•Ä‡§Ø ‡§∏‡§§‡§π<br>
            <b style="color:var(--accent)">‚¨ú</b> ‡§ü‡•Å‡§ï‡•ú‡§æ ($dA$)<br>
            <b style="color:#fff">‚Üó</b> ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞ ($E$)
        </div>
        <div class="controls">
            <label>‡§¶‡•Ç‡§∞‡•Ä ($r$): <span id="r-val" style="color:var(--accent); font-weight:bold;">2.5</span></label>
            <input type="range" id="r-slider" min="1.5" max="4" step="0.1" value="2.5">
        </div>
    </div>

    <h2>üìù ‡§∏‡•ç‡§ü‡•á‡§™-‡§¨‡§æ‡§Ø-‡§∏‡•ç‡§ü‡•á‡§™ ‡§®‡§ø‡§ó‡§Æ‡§®</h2>

    <div class="step-card">
        <h3>1. ‡§ï‡§æ‡§≤‡•ç‡§™‡§®‡§ø‡§ï ‡§ó‡•ã‡§≤‡§æ</h3>
        <p>‡§π‡§Æ ‡§Ü‡§µ‡•á‡§∂ $+q$ ‡§ï‡•á ‡§ö‡§æ‡§∞‡•ã‡§Ç ‡§ì‡§∞ $r$ ‡§¶‡•Ç‡§∞‡•Ä ‡§ï‡§æ ‡§è‡§ï ‡§ó‡•ã‡§≤‡§æ ‡§Æ‡§æ‡§®‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§ö‡•Ç‡§Ç‡§ï‡§ø ‡§ó‡•ã‡§≤‡§æ ‡§π‡§∞ ‡§ú‡§ó‡§π ‡§∏‡•á ‡§¨‡§∞‡§æ‡§¨‡§∞ ‡§¶‡•Ç‡§∞‡•Ä ‡§™‡§∞ ‡§π‡•à, ‡§á‡§∏‡§≤‡§ø‡§è ‡§§‡§æ‡§ï‡§§ $E$ ‡§≠‡•Ä ‡§π‡§∞ ‡§ú‡§ó‡§π ‡§è‡§ï ‡§ú‡•à‡§∏‡•Ä ‡§π‡•ã‡§ó‡•Ä‡•§</p>
    </div>

    <div class="step-card">
        <h3>2. ‡§´‡•ç‡§≤‡§ï‡•ç‡§∏ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ</h3>
        <p>‡§õ‡•ã‡§ü‡•á ‡§ü‡•Å‡§ï‡•ú‡•á $dA$ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡•ç‡§≤‡§ï‡•ç‡§∏:</p>
        $$d\Phi = E \cdot dA \cdot \cos 0^\circ$$
        <p>$\cos 0^\circ = 1$ ‡§π‡•ã‡§§‡§æ ‡§π‡•à, ‡§á‡§∏‡§≤‡§ø‡§è: $d\Phi = E \cdot dA$</p>
    </div>

    <div class="step-card">
        <h3>3. ‡§ï‡•Å‡§≤ ‡§´‡•ç‡§≤‡§ï‡•ç‡§∏ ‡§î‡§∞ ‡§ó‡•â‡§∏ ‡§ï‡§æ ‡§®‡§ø‡§Ø‡§Æ</h3>
        <p>‡§™‡•Ç‡§∞‡•á ‡§ó‡•ã‡§≤‡•á ‡§ï‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ $4\pi r^2$ ‡§π‡•à‡•§ ‡§ó‡•â‡§∏ ‡§ï‡•á ‡§®‡§ø‡§Ø‡§Æ ($\Phi = q/\epsilon_0$) ‡§ï‡•ã ‡§≤‡§ó‡§æ‡§®‡•á ‡§™‡§∞:</p>
        $$E \cdot (4\pi r^2) = \frac{q}{\epsilon_0}$$
        <p>‡§™‡§ï‡•ç‡§∑‡§æ‡§Ç‡§§‡§∞ (Transfer) ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§´‡§æ‡§á‡§®‡§≤ ‡§´‡§æ‡§∞‡•ç‡§Æ‡•Ç‡§≤‡§æ:</p>
        <div style="font-size: 1.5rem; text-align: center; color: var(--accent);">
            $$E = \frac{1}{4\pi\epsilon_0} \cdot \frac{q}{r^2}$$
        </div>
    </div>

</div>

<script>
    // --- 3D LAB LOGIC ---
    let scene, camera, renderer, controls, surface, daGroup;
    const lab = document.getElementById('lab-container');

    function startLab() {
        scene = new THREE.Scene();
        camera = new THREE.PerspectiveCamera(75, lab.clientWidth / lab.clientHeight, 0.1, 1000);
        camera.position.set(4, 3, 5);

        renderer = new THREE.WebGLRenderer({ antialias: true });
        renderer.setSize(lab.clientWidth, lab.clientHeight);
        lab.appendChild(renderer.domElement);

        controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;

        const charge = new THREE.Mesh(
            new THREE.SphereGeometry(0.2, 32, 32),
            new THREE.MeshBasicMaterial({ color: 0xff4444 })
        );
        scene.add(charge);

        daGroup = new THREE.Group();
        scene.add(daGroup);

        update(2.5);
        animate();
    }

    function update(r) {
        if(surface) scene.remove(surface);
        daGroup.clear();

        surface = new THREE.Mesh(
            new THREE.SphereGeometry(r, 24, 24),
            new THREE.MeshBasicMaterial({ color: 0x00d2ff, wireframe: true, transparent: true, opacity: 0.2 })
        );
        scene.add(surface);

        const patch = new THREE.Mesh(
            new THREE.PlaneGeometry(0.4, 0.4),
            new THREE.MeshBasicMaterial({ color: 0xffeb3b, side: THREE.DoubleSide })
        );
        patch.position.set(r, 0, 0);
        patch.rotation.y = Math.PI / 2;
        daGroup.add(patch);

        const dir = new THREE.Vector3(1, 0, 0);
        const origin = new THREE.Vector3(r, 0, 0);
        daGroup.add(new THREE.ArrowHelper(dir, origin, 1.4, 0xffffff, 0.3, 0.15)); // E
        daGroup.add(new THREE.ArrowHelper(dir, origin, 0.8, 0xffeb3b, 0.2, 0.1)); // dA
    }

    function animate() {
        requestAnimationFrame(animate);
        controls.update();
        renderer.render(scene, camera);
    }

    document.getElementById('r-slider').oninput = function() {
        document.getElementById('r-val').innerText = this.value;
        update(parseFloat(this.value));
    };

    window.onload = () => { setTimeout(startLab, 100); };
    window.onresize = () => {
        camera.aspect = lab.clientWidth / lab.clientHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(lab.clientWidth, lab.clientHeight);
    };
</script>

</body>
</html>